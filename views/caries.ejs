<!-- views/casos.ejs -->

<!DOCTYPE html>
<html lang="es">

<head>
    <title>APP HIGIENE BUCODENTAL</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="icon" type="image/x-icon"
        href="https://i0.wp.com/clinicaortodonciasoler.com/wp-content/uploads/2015/09/favicon.png?resize=300%2C300&ssl=1">
</head>
<style>
    body {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
    }

    .container-fluid {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
    }

    .image-container {
        flex: 1;
        overflow: hidden;
        margin: 50px;
    }

    .image-container img {
        width: 100%;
        height: auto;
    }

    .text-container {
        flex: 1;
        padding: 20px;
        text-align: center;
    }

    .btn-container {
        display: flex;
        justify-content: space-around;
        margin-top: 20px;
    }

    .btn-lg {
        font-size: 1.5rem;
        padding: 15px 30px;
    }

    /* Nuevas clases de color */
    .btn-green {
        background-color: #28a745;
        color: #fff;
    }

    .btn-red {
        background-color: #dc3545;
        color: #fff;
    }

    /* Clase por defecto */
    .btn-default {
        background-color: #007bff;
        color: #fff;
    }
</style>
<!-- ... (other code) ... -->
<body>
    <!-- ... (other code) ... -->
    <div class="text-container">
        <h1><%= preguntas[currentQuestionIndex].QuestionText %></h1>
        <div class="btn-container">
            <button id="btnOpcio1" type="button" class="btn btn-primary btn-lg btn-default" onclick="checkAnswer(0)">PREVENCIÃ“</button>
            <button id="btnOpcio2" type="button" class="btn btn-primary btn-lg btn-default" data-toggle="modal" data-target="#miDialogo">TRACTAMENT</button>
        </div>
    </div>

    <!-- Add a hidden input to store the current question index -->
    <input type="hidden" id="currentQuestionIndex" value="<%= currentQuestionIndex %>">
    <!-- ... (other code) ... -->

    <script>
        // ... (existing code) ...

        // Function to check the answer and load the next question
        function checkAnswer(optionIndex) {
            const isCorrect = /* Implement your logic to check if the answer is correct */;

            if (isCorrect) {
                // Update the current question index
                const currentQuestionIndex = parseInt(document.getElementById('currentQuestionIndex').value, 10);
                const nextQuestionIndex = currentQuestionIndex + 1;
                
                // Redirect to the same page with the updated question index
                window.location.href = `/casos.html?question=${nextQuestionIndex}`;
            } else {
                // Show the incorrect answer modal
                $('#miDialogo').modal('show');

                // Change the color of the buttons
                $(`#btnOpcio${optionIndex + 1}`).removeClass('btn-default').addClass('btn-red');
            }
        }
    </script>
</body>
</html>
